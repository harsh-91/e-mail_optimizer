<!DOCTYPE html>
<html>
<head>
  <title>Inbound Email Header Analysis</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<h2>ğŸ“¬ Inbound Email Header Results</h2>

<div class="header-box">
  <h4>Authentication Results</h4>

  {% if result.spf_status %}
    <div class="status-pass">âœ“ SPF: {{ result.spf_status }}</div>
  {% else %}
    <div class="status-fail">âœ— SPF: Not Found or Failed</div>
  {% endif %}

  {% if result.dkim_status %}
    <div class="status-pass">âœ“ DKIM: {{ result.dkim_status }}</div>
  {% else %}
    <div class="status-fail">âœ— DKIM: Not Found or Failed</div>
  {% endif %}

  {% if result.dmarc_status %}
    <div class="status-pass">âœ“ DMARC: {{ result.dmarc_status }}</div>
  {% else %}
    <div class="status-fail">âœ— DMARC: Not Found or Failed</div>
  {% endif %}
</div>

<h4>âœ‰ï¸ Raw Header</h4>
<pre id="raw-header">{{ result.raw_header }}</pre>
<button class="copy-btn" onclick="copyToClipboard('raw-header')">Copy Full Header</button>

<div class="glossary">
  <h4>ğŸ“š Glossary</h4>
  <p><strong>SPF:</strong> Shows if the senderâ€™s IP is authorized for the domain.</p>
  <p><strong>DKIM:</strong> Validates that the email content wasnâ€™t changed during transit.</p>
  <p><strong>DMARC:</strong> Combines SPF & DKIM to specify email handling rules.</p>
</div>

<hr>
<a href="/">ğŸ  Home</a> |
<a href="/email">âœ‰ï¸ Send Email</a> |
<a href="/analyze">ğŸ” Check Another Email</a>

<script>
function copyToClipboard(id) {
  const text = document.getElementById(id).innerText;
  navigator.clipboard.writeText(text).then(() => alert("Copied!"));
}
</script>
<hr>
<nav class="nav-pane">
  <a href="/">ğŸ  Home</a> |
  <a href="/setup">âš™ï¸ Setup</a> |
  <a href="/email">âœ‰ï¸ Send Email</a> |
  <a href="/analyze">ğŸ“¬ Analyze Email</a>
</nav>
{% include 'footer.html' %}

</body>
</html>
